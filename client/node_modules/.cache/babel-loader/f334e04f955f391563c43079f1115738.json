{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/marco/Documents/project_react/template-carros/client/src/components/painelAdministrativo/painel/painelAdministrativo.jsx\",\n    _s = $RefreshSig$();\n\nimport { React, useState, useEffect } from 'react';\nimport BuscaBD from \"../../fetchBackEnd/api\"; //classe axios\n\nimport \"./painelAdministrativo.css\";\nimport Formulario from \"../formulario/formulario\"; //FORMULARIO\n\nimport ListarAnuncios from \"../listaAnuncios/listaAnuncios\";\nimport DadosSite from \"../dadosSite/dadosSite\";\nimport ModalProfile from \"./modalProfile\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Button from '@material-ui/core/Button';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport SendIcon from '@material-ui/icons/Send';\nimport FormatListNumberedIcon from '@material-ui/icons/FormatListNumbered';\nimport SettingsApplicationsIcon from '@material-ui/icons/SettingsApplications';\nconst useStyles = makeStyles(theme => ({\n  button: {\n    margin: theme.spacing(1)\n  }\n}));\nexport default function Paineladministrativo() {\n  _s();\n\n  useEffect(async () => {\n    //valida o TOKEN Autentication\n    const dadosLocalStorage = JSON.parse(window.localStorage.getItem(\"userSession\")) === null ? false : JSON.parse(window.localStorage.getItem(\"userSession\"));\n\n    if (!dadosLocalStorage) {\n      //se não houver dados no local storage\n      alert(\"SESSÃO EXPIRADA. NECESÁRIO AUTENTICAÇÃO\");\n      return window.location.href = \"http://192.168.0.150:3000/login\";\n    }\n\n    if (!dadosLocalStorage.tk) {\n      // console.log(\"token não encontrado\")\n      alert(\"SESSÃO EXPIRADA. NECESÁRIO AUTENTICAÇÃO\");\n      return window.location.href = \"http://192.168.0.150:3000/login\";\n    }\n\n    const classBuscaBD = new BuscaBD();\n    const {\n      data\n    } = await classBuscaBD.ValidaTokenPainel(dadosLocalStorage.tk);\n    console.log(data);\n\n    if (!data) {\n      alert(\"SESSÃO EXPIRADA. NECESÁRIO AUTENTICAÇÃO\");\n      return window.location.href = \"http://192.168.0.150:3000/login\";\n    }\n\n    setProgresso(true);\n  }, []);\n  const [progresso, setProgresso] = useState(false);\n  const [componentesAdministrativos, setComponentesAdministrativos] = useState({\n    criarAnuncio: false,\n    alterarAnuncio: false,\n    deletarAnuncio: false,\n    listaAnuncios: false,\n    dadosSite: false,\n    mensagemRetorno: false\n  });\n  const [mensagemDeRetorno, setMensagemDeRetorno] = useState(false); //recebe mensagem de sucesso ou não dos componentes\n\n  const classes = useStyles();\n\n  function SelecionaFormulario(dadosBotao, recebe) {\n    if (recebe === \"criarAnuncio\") {\n      setComponentesAdministrativos(prevState => {\n        return { ...prevState,\n          criarAnuncio: true,\n          alterarAnuncio: false,\n          deletarAnuncio: false,\n          mensagemRetorno: false,\n          listaAnuncios: false,\n          dadosSite: false\n        };\n      });\n    }\n\n    if (recebe === \"alterarAnuncio\") {\n      setComponentesAdministrativos(prevState => {\n        return { ...prevState,\n          criarAnuncio: false,\n          alterarAnuncio: true,\n          deletarAnuncio: false,\n          mensagemRetorno: false,\n          listaAnuncios: false,\n          dadosSite: false\n        };\n      });\n    }\n\n    if (recebe === \"deletarAnuncio\") {\n      setComponentesAdministrativos(prevState => {\n        return { ...prevState,\n          criarAnuncio: false,\n          alterarAnuncio: false,\n          deletarAnuncio: true,\n          mensagemRetorno: false,\n          listaAnuncios: false,\n          dadosSite: false\n        };\n      });\n    }\n\n    if (recebe === \"listarAnuncios\") {\n      setComponentesAdministrativos(prevState => {\n        return { ...prevState,\n          criarAnuncio: false,\n          alterarAnuncio: false,\n          deletarAnuncio: false,\n          mensagemRetorno: false,\n          listaAnuncios: true,\n          dadosSite: false\n        };\n      });\n    }\n\n    if (recebe === \"dadosSite\") {\n      setComponentesAdministrativos(prevState => {\n        return { ...prevState,\n          criarAnuncio: false,\n          alterarAnuncio: false,\n          deletarAnuncio: false,\n          mensagemRetorno: false,\n          listaAnuncios: false,\n          dadosSite: true\n        };\n      });\n    }\n  }\n\n  function MensagemDeRetorno(mensagem) {\n    //atribui a mensagem de retorno no state\n    setComponentesAdministrativos(prevState => {\n      return { ...prevState,\n        mensagemRetorno: mensagem\n      };\n    }); //após 15 segundos retira a mensagem da tela\n\n    setTimeout(() => {\n      console.log(\"Timeout \");\n      setComponentesAdministrativos(prevState => {\n        return { ...prevState,\n          mensagemRetorno: false\n        };\n      });\n    }, 15000);\n  }\n\n  {\n    !progresso && /*#__PURE__*/_jsxDEV(LinearProgress, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 9\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"article\", {\n      className: \"paineladministrativo-article\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"paineladministrativo-div\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Bem vindo ao PAINEL ADMINISTRATIVO DE OFERTAS\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"paineladministrativo-div-mensagem\",\n        id: \"inicio\",\n        style: {\n          display: componentesAdministrativos.mensagemRetorno ? \"flex\" : \"none\"\n        },\n        children: componentesAdministrativos.mensagemRetorno\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"article\", {\n        className: \"paineladministrativo-article\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"paineladministrativo-article-h4-profile\",\n          style: {\n            display: \"flex\",\n            justifyContent: \"space-between\",\n            width: \"90%\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"SELECIONE A OP\\xC7\\xC3O DESEJADA:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(ModalProfile, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"paineladministrativo-article-div-button\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: (dadosBotao, envia = \"criarAnuncio\") => {\n              SelecionaFormulario(dadosBotao, envia);\n            },\n            variant: \"contained\",\n            color: \"primary\",\n            className: classes.button,\n            startIcon: /*#__PURE__*/_jsxDEV(SendIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 40\n            }, this),\n            children: \"CRIAR AN\\xDANCIO\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: (dadosBotao, envia = \"alterarAnuncio\") => {\n              SelecionaFormulario(dadosBotao, envia);\n            },\n            variant: \"contained\",\n            color: \"default\",\n            className: classes.button,\n            startIcon: /*#__PURE__*/_jsxDEV(CloudUploadIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 40\n            }, this),\n            children: \"ALTERAR AN\\xDANCIO\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: (dadosBotao, envia = \"deletarAnuncio\") => {\n              SelecionaFormulario(dadosBotao, envia);\n            },\n            variant: \"contained\",\n            color: \"secondary\",\n            className: classes.button,\n            startIcon: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 40\n            }, this),\n            children: \"DELETAR AN\\xDANCIO\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            style: {\n              backgroundColor: \"rgb(241, 243, 103)\"\n            },\n            onClick: (dadosBotao, envia = \"listarAnuncios\") => {\n              SelecionaFormulario(dadosBotao, envia);\n            },\n            variant: \"contained\",\n            className: classes.button,\n            startIcon: /*#__PURE__*/_jsxDEV(FormatListNumberedIcon, {\n              style: {\n                color: \"black\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 40\n            }, this),\n            children: \"TODOS AN\\xDANCIOS\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            style: {\n              backgroundColor: \"ORANGE\"\n            },\n            onClick: (dadosBotao, envia = \"dadosSite\") => {\n              SelecionaFormulario(dadosBotao, envia);\n            },\n            variant: \"contained\",\n            className: classes.button,\n            startIcon: /*#__PURE__*/_jsxDEV(SettingsApplicationsIcon, {\n              style: {\n                color: \"black\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 40\n            }, this),\n            children: \"DADOS SITE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"seletorformulario\",\n        children: componentesAdministrativos.criarAnuncio && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"PUBLICADOR DE AN\\xDANCIOS\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Formulario, {\n            tipoFormulario: \"criarAnuncio\",\n            mensagemDeRetorno: MensagemDeRetorno\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"seletorformulario\",\n        children: componentesAdministrativos.alterarAnuncio && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"EDI\\xC7\\xC3O DE AN\\xDANCIOS\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Formulario, {\n            tipoFormulario: \"alterarAnuncio\",\n            mensagemDeRetorno: MensagemDeRetorno\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"seletorformulario\",\n        children: componentesAdministrativos.deletarAnuncio && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"REMOVER AN\\xDANCIOS\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Formulario, {\n            tipoFormulario: \"deletarAnuncio\",\n            mensagemDeRetorno: MensagemDeRetorno\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"seletorformulario\",\n        children: componentesAdministrativos.listaAnuncios && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"TODOS AN\\xDANCIOS\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(ListarAnuncios, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"seletorformulario\",\n        children: componentesAdministrativos.dadosSite && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"DADOS SITE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(DadosSite, {\n            mensagemDeRetorno: MensagemDeRetorno\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n\n_s(Paineladministrativo, \"GcqbyGjk43jaVYRN1uxHgRDbBOE=\", false, function () {\n  return [useStyles];\n});\n\n_c = Paineladministrativo;\n\nvar _c;\n\n$RefreshReg$(_c, \"Paineladministrativo\");","map":{"version":3,"sources":["/home/marco/Documents/project_react/template-carros/client/src/components/painelAdministrativo/painel/painelAdministrativo.jsx"],"names":["React","useState","useEffect","BuscaBD","Formulario","ListarAnuncios","DadosSite","ModalProfile","makeStyles","LinearProgress","Button","DeleteIcon","CloudUploadIcon","SendIcon","FormatListNumberedIcon","SettingsApplicationsIcon","useStyles","theme","button","margin","spacing","Paineladministrativo","dadosLocalStorage","JSON","parse","window","localStorage","getItem","alert","location","href","tk","classBuscaBD","data","ValidaTokenPainel","console","log","setProgresso","progresso","componentesAdministrativos","setComponentesAdministrativos","criarAnuncio","alterarAnuncio","deletarAnuncio","listaAnuncios","dadosSite","mensagemRetorno","mensagemDeRetorno","setMensagemDeRetorno","classes","SelecionaFormulario","dadosBotao","recebe","prevState","MensagemDeRetorno","mensagem","setTimeout","display","justifyContent","width","envia","backgroundColor","color"],"mappings":";;;;;;AAAA,SAASA,KAAT,EAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,OAAP,MAAoB,wBAApB,C,CAA6C;;AAE7C,OAAO,4BAAP;AACA,OAAOC,UAAP,MAAuB,0BAAvB,C,CAAkD;;AAClD,OAAOC,cAAP,MAA2B,gCAA3B;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AAGA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,cAAP,MAA2B,kCAA3B;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,UAAP,MAAuB,2BAAvB;AACA,OAAOC,eAAP,MAA4B,gCAA5B;AACA,OAAOC,QAAP,MAAqB,yBAArB;AACA,OAAOC,sBAAP,MAAmC,uCAAnC;AACA,OAAOC,wBAAP,MAAqC,yCAArC;AAIA,MAAMC,SAAS,GAAGR,UAAU,CAAES,KAAD,KAAY;AACrCC,EAAAA,MAAM,EAAE;AACJC,IAAAA,MAAM,EAAEF,KAAK,CAACG,OAAN,CAAc,CAAd;AADJ;AAD6B,CAAZ,CAAD,CAA5B;AAOA,eAAe,SAASC,oBAAT,GAAgC;AAAA;;AAE3CnB,EAAAA,SAAS,CAAC,YAAY;AAAC;AACnB,UAAMoB,iBAAiB,GAAGC,IAAI,CAACC,KAAL,CAAWC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,aAA5B,CAAX,MAA2D,IAA3D,GAAkE,KAAlE,GAA0EJ,IAAI,CAACC,KAAL,CAAWC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,aAA5B,CAAX,CAApG;;AACA,QAAI,CAACL,iBAAL,EAAwB;AAAC;AACrBM,MAAAA,KAAK,CAAC,yCAAD,CAAL;AACA,aAAOH,MAAM,CAACI,QAAP,CAAgBC,IAAhB,GAAwB,iCAA/B;AACH;;AAED,QAAI,CAACR,iBAAiB,CAACS,EAAvB,EAA2B;AACvB;AACAH,MAAAA,KAAK,CAAC,yCAAD,CAAL;AACA,aAAOH,MAAM,CAACI,QAAP,CAAgBC,IAAhB,GAAwB,iCAA/B;AACH;;AACD,UAAME,YAAY,GAAG,IAAI7B,OAAJ,EAArB;AACA,UAAM;AAAE8B,MAAAA;AAAF,QAAW,MAAMD,YAAY,CAACE,iBAAb,CAA+BZ,iBAAiB,CAACS,EAAjD,CAAvB;AACAI,IAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;;AACA,QAAI,CAACA,IAAL,EAAW;AACPL,MAAAA,KAAK,CAAC,yCAAD,CAAL;AACA,aAAOH,MAAM,CAACI,QAAP,CAAgBC,IAAhB,GAAwB,iCAA/B;AACH;;AACDO,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACH,GApBQ,EAoBN,EApBM,CAAT;AAsBA,QAAM,CAACC,SAAD,EAAYD,YAAZ,IAA4BpC,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAM,CAACsC,0BAAD,EAA6BC,6BAA7B,IAA8DvC,QAAQ,CAAC;AACzEwC,IAAAA,YAAY,EAAE,KAD2D;AAEzEC,IAAAA,cAAc,EAAE,KAFyD;AAGzEC,IAAAA,cAAc,EAAE,KAHyD;AAIzEC,IAAAA,aAAa,EAAE,KAJ0D;AAKzEC,IAAAA,SAAS,EAAE,KAL8D;AAMzEC,IAAAA,eAAe,EAAE;AANwD,GAAD,CAA5E;AASA,QAAM,CAACC,iBAAD,EAAoBC,oBAApB,IAA4C/C,QAAQ,CAAC,KAAD,CAA1D,CAlC2C,CAmC3C;;AAEA,QAAMgD,OAAO,GAAGjC,SAAS,EAAzB;;AAEA,WAASkC,mBAAT,CAA6BC,UAA7B,EAAyCC,MAAzC,EAAiD;AAC7C,QAAIA,MAAM,KAAK,cAAf,EAA+B;AAE3BZ,MAAAA,6BAA6B,CAACa,SAAS,IAAI;AACvC,eAAO,EACH,GAAGA,SADA;AACWZ,UAAAA,YAAY,EAAE,IADzB;AAC+BC,UAAAA,cAAc,EAAE,KAD/C;AAEHC,UAAAA,cAAc,EAAE,KAFb;AAEoBG,UAAAA,eAAe,EAAE,KAFrC;AAE4CF,UAAAA,aAAa,EAAE,KAF3D;AAGHC,UAAAA,SAAS,EAAE;AAHR,SAAP;AAKH,OAN4B,CAA7B;AAOH;;AACD,QAAIO,MAAM,KAAK,gBAAf,EAAiC;AAC7BZ,MAAAA,6BAA6B,CAACa,SAAS,IAAI;AACvC,eAAO,EACH,GAAGA,SADA;AACWZ,UAAAA,YAAY,EAAE,KADzB;AACgCC,UAAAA,cAAc,EAAE,IADhD;AAEHC,UAAAA,cAAc,EAAE,KAFb;AAEoBG,UAAAA,eAAe,EAAE,KAFrC;AAE4CF,UAAAA,aAAa,EAAE,KAF3D;AAGHC,UAAAA,SAAS,EAAE;AAHR,SAAP;AAKH,OAN4B,CAA7B;AASH;;AACD,QAAIO,MAAM,KAAK,gBAAf,EAAiC;AAC7BZ,MAAAA,6BAA6B,CAACa,SAAS,IAAI;AACvC,eAAO,EACH,GAAGA,SADA;AACWZ,UAAAA,YAAY,EAAE,KADzB;AACgCC,UAAAA,cAAc,EAAE,KADhD;AAEHC,UAAAA,cAAc,EAAE,IAFb;AAEmBG,UAAAA,eAAe,EAAE,KAFpC;AAE2CF,UAAAA,aAAa,EAAE,KAF1D;AAGHC,UAAAA,SAAS,EAAE;AAHR,SAAP;AAKH,OAN4B,CAA7B;AAOH;;AACD,QAAIO,MAAM,KAAK,gBAAf,EAAiC;AAC7BZ,MAAAA,6BAA6B,CAACa,SAAS,IAAI;AACvC,eAAO,EACH,GAAGA,SADA;AACWZ,UAAAA,YAAY,EAAE,KADzB;AACgCC,UAAAA,cAAc,EAAE,KADhD;AAEHC,UAAAA,cAAc,EAAE,KAFb;AAEoBG,UAAAA,eAAe,EAAE,KAFrC;AAE4CF,UAAAA,aAAa,EAAE,IAF3D;AAGHC,UAAAA,SAAS,EAAE;AAHR,SAAP;AAKH,OAN4B,CAA7B;AAOH;;AACD,QAAIO,MAAM,KAAK,WAAf,EAA4B;AACxBZ,MAAAA,6BAA6B,CAACa,SAAS,IAAI;AACvC,eAAO,EACH,GAAGA,SADA;AACWZ,UAAAA,YAAY,EAAE,KADzB;AACgCC,UAAAA,cAAc,EAAE,KADhD;AAEHC,UAAAA,cAAc,EAAE,KAFb;AAEoBG,UAAAA,eAAe,EAAE,KAFrC;AAE4CF,UAAAA,aAAa,EAAE,KAF3D;AAGHC,UAAAA,SAAS,EAAE;AAHR,SAAP;AAKH,OAN4B,CAA7B;AAOH;AACJ;;AAED,WAASS,iBAAT,CAA2BC,QAA3B,EAAqC;AAEjC;AACAf,IAAAA,6BAA6B,CAACa,SAAS,IAAI;AACvC,aAAO,EAAE,GAAGA,SAAL;AAAgBP,QAAAA,eAAe,EAAES;AAAjC,OAAP;AACH,KAF4B,CAA7B,CAHiC,CAOjC;;AACAC,IAAAA,UAAU,CAAC,MAAM;AACbrB,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACAI,MAAAA,6BAA6B,CAACa,SAAS,IAAI;AACvC,eAAO,EAAE,GAAGA,SAAL;AAAgBP,UAAAA,eAAe,EAAE;AAAjC,SAAP;AACH,OAF4B,CAA7B;AAGH,KALS,EAKP,KALO,CAAV;AAMH;;AAED;AACI,KAACR,SAAD,iBACA,QAAC,cAAD;AAAA;AAAA;AAAA;AAAA,YADA;AAEH;AAED,sBACI;AAAA,2BACI;AAAS,MAAA,SAAS,EAAC,8BAAnB;AAAA,8BAEI;AAAK,QAAA,SAAS,EAAC,0BAAf;AAAA,+BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAFJ,eAKI;AAAK,QAAA,SAAS,EAAC,mCAAf;AAAmD,QAAA,EAAE,EAAC,QAAtD;AAA+D,QAAA,KAAK,EAAE;AAAEmB,UAAAA,OAAO,EAAElB,0BAA0B,CAACO,eAA3B,GAA6C,MAA7C,GAAsD;AAAjE,SAAtE;AAAA,kBAAkJP,0BAA0B,CAACO;AAA7K;AAAA;AAAA;AAAA;AAAA,cALJ,eAQI;AAAS,QAAA,SAAS,EAAC,8BAAnB;AAAA,gCAEI;AAAK,UAAA,SAAS,EAAC,yCAAf;AAAyD,UAAA,KAAK,EAAE;AAAEW,YAAAA,OAAO,EAAE,MAAX;AAAmBC,YAAAA,cAAc,EAAE,eAAnC;AAAoDC,YAAAA,KAAK,EAAE;AAA3D,WAAhE;AAAA,kCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAGI;AAAA,mCACI,QAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAWI;AAAK,UAAA,SAAS,EAAC,yCAAf;AAAA,kCACI,QAAC,MAAD;AACI,YAAA,OAAO,EAAE,CAACR,UAAD,EAAaS,KAAK,GAAG,cAArB,KAAwC;AAAEV,cAAAA,mBAAmB,CAACC,UAAD,EAAaS,KAAb,CAAnB;AAAwC,aAD/F;AAEI,YAAA,OAAO,EAAC,WAFZ;AAGI,YAAA,KAAK,EAAC,SAHV;AAII,YAAA,SAAS,EAAEX,OAAO,CAAC/B,MAJvB;AAKI,YAAA,SAAS,eAAE,QAAC,QAAD;AAAA;AAAA;AAAA;AAAA,oBALf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAWI,QAAC,MAAD;AACI,YAAA,OAAO,EAAE,CAACiC,UAAD,EAAaS,KAAK,GAAG,gBAArB,KAA0C;AAAEV,cAAAA,mBAAmB,CAACC,UAAD,EAAaS,KAAb,CAAnB;AAAwC,aADjG;AAEI,YAAA,OAAO,EAAC,WAFZ;AAGI,YAAA,KAAK,EAAC,SAHV;AAII,YAAA,SAAS,EAAEX,OAAO,CAAC/B,MAJvB;AAKI,YAAA,SAAS,eAAE,QAAC,eAAD;AAAA;AAAA;AAAA;AAAA,oBALf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAXJ,eAqBI,QAAC,MAAD;AACI,YAAA,OAAO,EAAE,CAACiC,UAAD,EAAaS,KAAK,GAAG,gBAArB,KAA0C;AAAEV,cAAAA,mBAAmB,CAACC,UAAD,EAAaS,KAAb,CAAnB;AAAwC,aADjG;AAEI,YAAA,OAAO,EAAC,WAFZ;AAGI,YAAA,KAAK,EAAC,WAHV;AAII,YAAA,SAAS,EAAEX,OAAO,CAAC/B,MAJvB;AAKI,YAAA,SAAS,eAAE,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA,oBALf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBArBJ,eA8BI,QAAC,MAAD;AACI,YAAA,KAAK,EAAE;AAAE2C,cAAAA,eAAe,EAAE;AAAnB,aADX;AAEI,YAAA,OAAO,EAAE,CAACV,UAAD,EAAaS,KAAK,GAAG,gBAArB,KAA0C;AAAEV,cAAAA,mBAAmB,CAACC,UAAD,EAAaS,KAAb,CAAnB;AAAwC,aAFjG;AAGI,YAAA,OAAO,EAAC,WAHZ;AAII,YAAA,SAAS,EAAEX,OAAO,CAAC/B,MAJvB;AAKI,YAAA,SAAS,eAAE,QAAC,sBAAD;AAAwB,cAAA,KAAK,EAAE;AAAE4C,gBAAAA,KAAK,EAAE;AAAT;AAA/B;AAAA;AAAA;AAAA;AAAA,oBALf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBA9BJ,eAuCI,QAAC,MAAD;AACI,YAAA,KAAK,EAAE;AAAED,cAAAA,eAAe,EAAE;AAAnB,aADX;AAEI,YAAA,OAAO,EAAE,CAACV,UAAD,EAAaS,KAAK,GAAG,WAArB,KAAqC;AAAEV,cAAAA,mBAAmB,CAACC,UAAD,EAAaS,KAAb,CAAnB;AAAwC,aAF5F;AAGI,YAAA,OAAO,EAAC,WAHZ;AAII,YAAA,SAAS,EAAEX,OAAO,CAAC/B,MAJvB;AAKI,YAAA,SAAS,eAAE,QAAC,wBAAD;AAA0B,cAAA,KAAK,EAAE;AAAE4C,gBAAAA,KAAK,EAAE;AAAT;AAAjC;AAAA;AAAA;AAAA;AAAA,oBALf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAvCJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAXJ;AAAA;AAAA;AAAA;AAAA;AAAA,cARJ,eAsEI;AAAK,QAAA,SAAS,EAAC,mBAAf;AAAA,kBAEKvB,0BAA0B,CAACE,YAA3B,iBACG;AAAA,kCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI,QAAC,UAAD;AAAY,YAAA,cAAc,EAAC,cAA3B;AAA0C,YAAA,iBAAiB,EAAEa;AAA7D;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAHR;AAAA;AAAA;AAAA;AAAA,cAtEJ,eA+EI;AAAK,QAAA,SAAS,EAAC,mBAAf;AAAA,kBAEKf,0BAA0B,CAACG,cAA3B,iBACG;AAAA,kCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAGI,QAAC,UAAD;AAAY,YAAA,cAAc,EAAC,gBAA3B;AAA4C,YAAA,iBAAiB,EAAEY;AAA/D;AAAA;AAAA;AAAA;AAAA,kBAHJ;AAAA;AAHR;AAAA;AAAA;AAAA;AAAA,cA/EJ,eAyFI;AAAK,QAAA,SAAS,EAAC,mBAAf;AAAA,kBAEKf,0BAA0B,CAACI,cAA3B,iBACG;AAAA,kCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI,QAAC,UAAD;AAAY,YAAA,cAAc,EAAC,gBAA3B;AAA4C,YAAA,iBAAiB,EAAEW;AAA/D;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAHR;AAAA;AAAA;AAAA;AAAA,cAzFJ,eAkGI;AAAK,QAAA,SAAS,EAAC,mBAAf;AAAA,kBAEKf,0BAA0B,CAACK,aAA3B,iBACG;AAAA,kCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI,QAAC,cAAD;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAHR;AAAA;AAAA;AAAA;AAAA,cAlGJ,eA2GI;AAAK,QAAA,SAAS,EAAC,mBAAf;AAAA,kBAEKL,0BAA0B,CAACM,SAA3B,iBACG;AAAA,kCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI,QAAC,SAAD;AAAW,YAAA,iBAAiB,EAAES;AAA9B;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAHR;AAAA;AAAA;AAAA;AAAA,cA3GJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ,mBADJ;AA2HH;;GA1OuBjC,oB;UAqCJL,S;;;KArCIK,oB","sourcesContent":["import { React, useState, useEffect } from 'react';\nimport BuscaBD from \"../../fetchBackEnd/api\" //classe axios\n\nimport \"./painelAdministrativo.css\"\nimport Formulario from \"../formulario/formulario\" //FORMULARIO\nimport ListarAnuncios from \"../listaAnuncios/listaAnuncios\"\nimport DadosSite from \"../dadosSite/dadosSite\"\nimport ModalProfile from \"./modalProfile\"\n\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Button from '@material-ui/core/Button';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport SendIcon from '@material-ui/icons/Send';\nimport FormatListNumberedIcon from '@material-ui/icons/FormatListNumbered';\nimport SettingsApplicationsIcon from '@material-ui/icons/SettingsApplications';\n\n\n\nconst useStyles = makeStyles((theme) => ({\n    button: {\n        margin: theme.spacing(1),\n    },\n}));\n\n\nexport default function Paineladministrativo() {\n\n    useEffect(async () => {//valida o TOKEN Autentication\n        const dadosLocalStorage = JSON.parse(window.localStorage.getItem(\"userSession\")) === null ? false : JSON.parse(window.localStorage.getItem(\"userSession\"))\n        if (!dadosLocalStorage) {//se não houver dados no local storage\n            alert(\"SESSÃO EXPIRADA. NECESÁRIO AUTENTICAÇÃO\")\n            return window.location.href = (\"http://192.168.0.150:3000/login\")\n        }\n\n        if (!dadosLocalStorage.tk) {\n            // console.log(\"token não encontrado\")\n            alert(\"SESSÃO EXPIRADA. NECESÁRIO AUTENTICAÇÃO\")\n            return window.location.href = (\"http://192.168.0.150:3000/login\")\n        }\n        const classBuscaBD = new BuscaBD\n        const { data } = await classBuscaBD.ValidaTokenPainel(dadosLocalStorage.tk)\n        console.log(data)\n        if (!data) {\n            alert(\"SESSÃO EXPIRADA. NECESÁRIO AUTENTICAÇÃO\")\n            return window.location.href = (\"http://192.168.0.150:3000/login\")\n        }\n        setProgresso(true)\n    }, [])\n\n    const [progresso, setProgresso] = useState(false)\n    const [componentesAdministrativos, setComponentesAdministrativos] = useState({\n        criarAnuncio: false,\n        alterarAnuncio: false,\n        deletarAnuncio: false,\n        listaAnuncios: false,\n        dadosSite: false,\n        mensagemRetorno: false\n    })\n\n    const [mensagemDeRetorno, setMensagemDeRetorno] = useState(false)\n    //recebe mensagem de sucesso ou não dos componentes\n\n    const classes = useStyles();\n\n    function SelecionaFormulario(dadosBotao, recebe) {\n        if (recebe === \"criarAnuncio\") {\n\n            setComponentesAdministrativos(prevState => {\n                return {\n                    ...prevState, criarAnuncio: true, alterarAnuncio: false,\n                    deletarAnuncio: false, mensagemRetorno: false, listaAnuncios: false,\n                    dadosSite: false\n                }\n            })\n        }\n        if (recebe === \"alterarAnuncio\") {\n            setComponentesAdministrativos(prevState => {\n                return {\n                    ...prevState, criarAnuncio: false, alterarAnuncio: true,\n                    deletarAnuncio: false, mensagemRetorno: false, listaAnuncios: false,\n                    dadosSite: false\n                }\n            })\n\n\n        }\n        if (recebe === \"deletarAnuncio\") {\n            setComponentesAdministrativos(prevState => {\n                return {\n                    ...prevState, criarAnuncio: false, alterarAnuncio: false,\n                    deletarAnuncio: true, mensagemRetorno: false, listaAnuncios: false,\n                    dadosSite: false\n                }\n            })\n        }\n        if (recebe === \"listarAnuncios\") {\n            setComponentesAdministrativos(prevState => {\n                return {\n                    ...prevState, criarAnuncio: false, alterarAnuncio: false,\n                    deletarAnuncio: false, mensagemRetorno: false, listaAnuncios: true,\n                    dadosSite: false\n                }\n            })\n        }\n        if (recebe === \"dadosSite\") {\n            setComponentesAdministrativos(prevState => {\n                return {\n                    ...prevState, criarAnuncio: false, alterarAnuncio: false,\n                    deletarAnuncio: false, mensagemRetorno: false, listaAnuncios: false,\n                    dadosSite: true\n                }\n            })\n        }\n    }\n\n    function MensagemDeRetorno(mensagem) {\n\n        //atribui a mensagem de retorno no state\n        setComponentesAdministrativos(prevState => {\n            return { ...prevState, mensagemRetorno: mensagem }\n        })\n\n        //após 15 segundos retira a mensagem da tela\n        setTimeout(() => {\n            console.log(\"Timeout \")\n            setComponentesAdministrativos(prevState => {\n                return { ...prevState, mensagemRetorno: false }\n            })\n        }, 15000)\n    }\n\n    {\n        !progresso &&\n        <LinearProgress />\n    }\n\n    return (\n        <>\n            <article className=\"paineladministrativo-article\">\n\n                <div className=\"paineladministrativo-div\">\n                    <h2>Bem vindo ao PAINEL ADMINISTRATIVO DE OFERTAS</h2>\n                </div>\n                <div className=\"paineladministrativo-div-mensagem\" id=\"inicio\" style={{ display: componentesAdministrativos.mensagemRetorno ? \"flex\" : \"none\" }}>{componentesAdministrativos.mensagemRetorno}</div>\n                {/* Se mensagemDeRetorno houver dados flex, senão none */}\n\n                <article className=\"paineladministrativo-article\">\n\n                    <div className=\"paineladministrativo-article-h4-profile\" style={{ display: \"flex\", justifyContent: \"space-between\", width: \"90%\" }}>\n                        <h4>SELECIONE A OPÇÃO DESEJADA:</h4>\n\n                        <div>\n                            <ModalProfile />\n                        </div>\n                    </div>\n\n\n                    <div className=\"paineladministrativo-article-div-button\">\n                        <Button\n                            onClick={(dadosBotao, envia = \"criarAnuncio\") => { SelecionaFormulario(dadosBotao, envia) }}\n                            variant=\"contained\"\n                            color=\"primary\"\n                            className={classes.button}\n                            startIcon={<SendIcon />}\n                        >\n                            CRIAR ANÚNCIO\n                        </Button>\n\n                        <Button\n                            onClick={(dadosBotao, envia = \"alterarAnuncio\") => { SelecionaFormulario(dadosBotao, envia) }}\n                            variant=\"contained\"\n                            color=\"default\"\n                            className={classes.button}\n                            startIcon={<CloudUploadIcon />}\n                        >\n                            ALTERAR ANÚNCIO\n                        </Button>\n\n                        <Button\n                            onClick={(dadosBotao, envia = \"deletarAnuncio\") => { SelecionaFormulario(dadosBotao, envia) }}\n                            variant=\"contained\"\n                            color=\"secondary\"\n                            className={classes.button}\n                            startIcon={<DeleteIcon />}\n                        >\n                            DELETAR ANÚNCIO\n                        </Button>\n                        <Button\n                            style={{ backgroundColor: \"rgb(241, 243, 103)\" }}\n                            onClick={(dadosBotao, envia = \"listarAnuncios\") => { SelecionaFormulario(dadosBotao, envia) }}\n                            variant=\"contained\"\n                            className={classes.button}\n                            startIcon={<FormatListNumberedIcon style={{ color: \"black\" }} />}\n                        >\n                            TODOS ANÚNCIOS\n                        </Button>\n                        <Button\n                            style={{ backgroundColor: \"ORANGE\" }}\n                            onClick={(dadosBotao, envia = \"dadosSite\") => { SelecionaFormulario(dadosBotao, envia) }}\n                            variant=\"contained\"\n                            className={classes.button}\n                            startIcon={<SettingsApplicationsIcon style={{ color: \"black\" }} />}\n                        >\n                            DADOS SITE\n                        </Button>\n                    </div>\n                </article>\n\n                <div className=\"seletorformulario\">\n\n                    {componentesAdministrativos.criarAnuncio &&\n                        <>\n                            <h2>PUBLICADOR DE ANÚNCIOS</h2>\n                            <Formulario tipoFormulario=\"criarAnuncio\" mensagemDeRetorno={MensagemDeRetorno} />\n                        </>\n                    }\n                </div>\n                <div className=\"seletorformulario\">\n\n                    {componentesAdministrativos.alterarAnuncio &&\n                        <>\n                            <h2>EDIÇÃO DE ANÚNCIOS</h2>\n\n                            <Formulario tipoFormulario=\"alterarAnuncio\" mensagemDeRetorno={MensagemDeRetorno} />\n                        </>\n                    }\n                </div>\n                <div className=\"seletorformulario\">\n\n                    {componentesAdministrativos.deletarAnuncio &&\n                        <>\n                            <h2>REMOVER ANÚNCIOS</h2>\n                            <Formulario tipoFormulario=\"deletarAnuncio\" mensagemDeRetorno={MensagemDeRetorno} />\n                        </>\n                    }\n                </div>\n                <div className=\"seletorformulario\">\n\n                    {componentesAdministrativos.listaAnuncios &&\n                        <>\n                            <h2>TODOS ANÚNCIOS</h2>\n                            <ListarAnuncios />\n                        </>\n                    }\n                </div>\n                <div className=\"seletorformulario\">\n\n                    {componentesAdministrativos.dadosSite &&\n                        <>\n                            <h2>DADOS SITE</h2>\n                            <DadosSite mensagemDeRetorno={MensagemDeRetorno} />\n                        </>\n                    }\n                </div>\n\n            </article>\n\n        </>\n    )\n}"]},"metadata":{},"sourceType":"module"}