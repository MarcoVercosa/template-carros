{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/marco/Documents/project_react/template-carros/client/src/components/painelAdministrativo/painelAdministrativo.jsx\",\n    _s = $RefreshSig$();\n\nimport { React, useState } from 'react';\nimport BuscaBD from \"../fetchBackEnd/api\"; //importa classe para o axios\n\nimport FormData from 'form-data';\nimport \"./painelAdministrativo.css\"; // import Formulario from \"./publicacao/publicacao\"\n\nimport Formulario from \"./formulario/formulario\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport SendIcon from '@material-ui/icons/Send';\nimport SaveIcon from '@material-ui/icons/Save';\nimport TextField from '@material-ui/core/TextField';\nconst useStyles = makeStyles(theme => ({\n  button: {\n    margin: theme.spacing(1)\n  }\n}));\nexport default function Paineladministrativo() {\n  _s();\n\n  const classes = useStyles(); //const para renderização dos formularios\n\n  const [criarAnuncio, setCriarAnuncio] = useState(false);\n  const [alterarAnuncio, setAlterarAnuncio] = useState(false);\n  const [deletarAnuncio, setDeletarAnuncio] = useState(false);\n  const [editaFormulario, setEditaFormulario] = useState({\n    campoIdPesquisa: \"\",\n    retornoPesquisaBD: {}\n  }); //armazena dados do texto para enviar para busca no BD\n\n  function SelecionaFormulario(dadosBotao, recebe) {\n    if (recebe === \"criarAnuncio\") {\n      setCriarAnuncio(true);\n      setAlterarAnuncio(false);\n      setDeletarAnuncio(false);\n    }\n\n    if (recebe === \"alterarAnuncio\") {\n      setCriarAnuncio(false);\n      setAlterarAnuncio(true);\n      setDeletarAnuncio(false);\n    }\n\n    if (recebe === \"deletarAnuncio\") {\n      setCriarAnuncio(false);\n      setAlterarAnuncio(false);\n      setDeletarAnuncio(true);\n    }\n  } // ############  PUBLICA IMAGENS E DEPOIS DADOS  ###################\n  // ############  PUBLICA IMAGENS E DEPOIS DADOS ###################\n  // ############  PUBLICA IMAGENS E DEPOIS DADOS   ###################\n\n\n  async function PublicaDados(formulario) {\n    if (formulario.imagensPath.length > 12) {\n      alert(\"SELECIONE ATÉ 12 IMAGENS\");\n      return;\n    }\n\n    const classBuscaBD = new BuscaBD(); // classe da Api onde está conf  o Axios\n\n    const dadosImagens = new FormData(); //FormData classe que permite o multer identificar as imagens\n\n    for (var i = 0; i < formulario.imagensPath.length; i++) {\n      dadosImagens.append(\"files\", formulario.imagensPath[i]);\n    } //para enviar imagens tem q ser pelo FormData\n    //primeiro coloca eles numa array com o loop for. Necessário quando é mais de uma imagem\n\n\n    const retornaImagenslLocationNodeMulter = await classBuscaBD.BuscaBDPostImagem(dadosImagens); //faz o upload das imagens e o node vai retornar as imagens recebidas\n\n    console.log(retornaImagenslLocationNodeMulter);\n    let imagensPath = [];\n    retornaImagenslLocationNodeMulter.data.map(dados => {\n      imagensPath.push(\"http://localhost:9000/static/\" + dados.filename);\n    });\n    const GuardaDados = await ArmazenaDadosBD(formulario, imagensPath);\n    console.log(GuardaDados);\n  }\n\n  async function ArmazenaDadosBD(formulario, recebeLocationImagens) {\n    //com os nomes dos arquivos no node, reuni todos os dados do carro e junta com o nome das imagens\n    const classBuscaBD = new BuscaBD();\n    var imagensLocation = JSON.stringify(recebeLocationImagens); //transforma a array de localização das imagens em uma array String\n\n    console.log(imagensLocation);\n    var reuniDados = formulario;\n    var reuniDados = { ...reuniDados,\n      imagensPath: imagensLocation\n    };\n    console.log(reuniDados);\n    const EnviaDadosBD = await classBuscaBD.BuscaBDPostDados(reuniDados);\n    return EnviaDadosBD;\n  } // ############ BUSCA DADOS E ALTERA NO BD  ###################\n  // ############ BUSCA DADOS E ALTERA NO BD  ###################\n  // ############ BUSCA DADOS E ALTERA NO BD  ###################\n\n\n  async function BuscarBDDados() {\n    const classBuscaBD = new BuscaBD();\n    const resultado = await classBuscaBD.BuscaBDGetDados(editaFormulario.campoIdPesquisa);\n    setEditaFormulario(prevState => {\n      return { ...prevState,\n        retornoPesquisaBD: resultado\n      };\n    });\n  } //em construção\n\n\n  function AtualizarDadosBd() {}\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"paineladministrativo-div\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Bem vindo ao PAINEL ADMINISTRATIVO DE OFERTAS\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"article\", {\n      className: \"paineladministrativo-article\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"SELECIONE A OP\\xC7\\xC3O DESEJADA:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"paineladministrativo-article-div-button\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: (dadosBotao, envia = \"criarAnuncio\") => {\n            SelecionaFormulario(dadosBotao, envia);\n          },\n          variant: \"contained\",\n          color: \"primary\",\n          className: classes.button,\n          startIcon: /*#__PURE__*/_jsxDEV(SendIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 36\n          }, this),\n          children: \"CRIAR AN\\xDANCIO\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: (dadosBotao, envia = \"alterarAnuncio\") => {\n            SelecionaFormulario(dadosBotao, envia);\n          },\n          variant: \"contained\",\n          color: \"default\",\n          className: classes.button,\n          startIcon: /*#__PURE__*/_jsxDEV(CloudUploadIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 36\n          }, this),\n          children: \"ALTERAR AN\\xDANCIO\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: (dadosBotao, envia = \"deletarAnuncio\") => {\n            SelecionaFormulario(dadosBotao, envia);\n          },\n          variant: \"contained\",\n          color: \"secondary\",\n          className: classes.button,\n          startIcon: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 36\n          }, this),\n          children: \"DELETAR AN\\xDANCIO\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"seletorformulario\",\n      children: criarAnuncio && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"PUBLICADOR DE AN\\xDANCIOS\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Formulario, {\n          PublicaDados: PublicaDados,\n          tipoFormulario: \"criarAnuncio\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"seletorformulario\",\n      children: alterarAnuncio && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"publicacao-div-search\",\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            onBlur: recebe => {\n              setEditaFormulario(prevState => {\n                return { ...prevState,\n                  campoIdPesquisa: recebe.target.value\n                };\n              });\n            },\n            style: {\n              margin: \"0 1% 3% 10%\"\n            },\n            label: \"BUSCAR POR ID\",\n            id: \"outlined-size-small\",\n            defaultValue: \"\",\n            variant: \"outlined\",\n            size: \"small\",\n            color: \"success\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => {\n              BuscarBDDados();\n            },\n            style: {\n              margin: \"0\",\n              backgroundColor: \"white\"\n            },\n            variant: \"contained\",\n            color: \"inherit\",\n            className: classes.button,\n            startIcon: /*#__PURE__*/_jsxDEV(\"i\", {\n              class: \"fas fa-search fa-2x\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 44\n            }, this),\n            children: \"BUSCAR AN\\xDANCIO\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"EDI\\xC7\\xC3O DE AN\\xDANCIOS\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Formulario, {\n          tipoFormulario: \"alterarAnuncio\",\n          editaFormulario: editaFormulario\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"seletorformulario\",\n      children: deletarAnuncio && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"REMOVER AN\\xDANCIOS\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Formulario, {\n          tipoFormulario: \"deletarAnuncio\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Paineladministrativo, \"zdBn+2kw7TZDA/SeiG3exKksR4k=\", false, function () {\n  return [useStyles];\n});\n\n_c = Paineladministrativo;\n\nvar _c;\n\n$RefreshReg$(_c, \"Paineladministrativo\");","map":{"version":3,"sources":["/home/marco/Documents/project_react/template-carros/client/src/components/painelAdministrativo/painelAdministrativo.jsx"],"names":["React","useState","BuscaBD","FormData","Formulario","makeStyles","Button","DeleteIcon","CloudUploadIcon","SendIcon","SaveIcon","TextField","useStyles","theme","button","margin","spacing","Paineladministrativo","classes","criarAnuncio","setCriarAnuncio","alterarAnuncio","setAlterarAnuncio","deletarAnuncio","setDeletarAnuncio","editaFormulario","setEditaFormulario","campoIdPesquisa","retornoPesquisaBD","SelecionaFormulario","dadosBotao","recebe","PublicaDados","formulario","imagensPath","length","alert","classBuscaBD","dadosImagens","i","append","retornaImagenslLocationNodeMulter","BuscaBDPostImagem","console","log","data","map","dados","push","filename","GuardaDados","ArmazenaDadosBD","recebeLocationImagens","imagensLocation","JSON","stringify","reuniDados","EnviaDadosBD","BuscaBDPostDados","BuscarBDDados","resultado","BuscaBDGetDados","prevState","AtualizarDadosBd","envia","target","value","backgroundColor"],"mappings":"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","sourcesContent":["import { React, useState } from 'react';\nimport BuscaBD from \"../fetchBackEnd/api\"  //importa classe para o axios\nimport FormData from 'form-data'\n\nimport \"./painelAdministrativo.css\"\n// import Formulario from \"./publicacao/publicacao\"\nimport Formulario from \"./formulario/formulario\"\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport SendIcon from '@material-ui/icons/Send';\nimport SaveIcon from '@material-ui/icons/Save';\nimport TextField from '@material-ui/core/TextField';\n\n\n\nconst useStyles = makeStyles((theme) => ({\n    button: {\n        margin: theme.spacing(1),\n    },\n}));\n\n\nexport default function Paineladministrativo() {\n    const classes = useStyles();\n\n    //const para renderização dos formularios\n    const [criarAnuncio, setCriarAnuncio] = useState(false)\n    const [alterarAnuncio, setAlterarAnuncio] = useState(false)\n    const [deletarAnuncio, setDeletarAnuncio] = useState(false)\n\n    const [editaFormulario, setEditaFormulario] = useState(\n        {\n            campoIdPesquisa: \"\",\n            retornoPesquisaBD: {}\n        }\n    )\n    //armazena dados do texto para enviar para busca no BD\n\n\n\n\n    function SelecionaFormulario(dadosBotao, recebe) {\n        if (recebe === \"criarAnuncio\") {\n            setCriarAnuncio(true)\n            setAlterarAnuncio(false)\n            setDeletarAnuncio(false)\n        }\n        if (recebe === \"alterarAnuncio\") {\n            setCriarAnuncio(false)\n            setAlterarAnuncio(true)\n            setDeletarAnuncio(false)\n        }\n        if (recebe === \"deletarAnuncio\") {\n            setCriarAnuncio(false)\n            setAlterarAnuncio(false)\n            setDeletarAnuncio(true)\n        }\n    }\n\n    // ############  PUBLICA IMAGENS E DEPOIS DADOS  ###################\n    // ############  PUBLICA IMAGENS E DEPOIS DADOS ###################\n    // ############  PUBLICA IMAGENS E DEPOIS DADOS   ###################\n\n    async function PublicaDados(formulario) {\n\n        if (formulario.imagensPath.length > 12) {\n            alert(\"SELECIONE ATÉ 12 IMAGENS\")\n            return\n        }\n        const classBuscaBD = new BuscaBD()// classe da Api onde está conf  o Axios\n        const dadosImagens = new FormData()//FormData classe que permite o multer identificar as imagens\n        for (var i = 0; i < formulario.imagensPath.length; i++) {\n            dadosImagens.append(\"files\", formulario.imagensPath[i])\n        }\n        //para enviar imagens tem q ser pelo FormData\n        //primeiro coloca eles numa array com o loop for. Necessário quando é mais de uma imagem\n\n        const retornaImagenslLocationNodeMulter = await classBuscaBD.BuscaBDPostImagem(dadosImagens)\n        //faz o upload das imagens e o node vai retornar as imagens recebidas\n        console.log(retornaImagenslLocationNodeMulter)\n        let imagensPath = []\n        retornaImagenslLocationNodeMulter.data.map((dados) => {\n            imagensPath.push(\"http://localhost:9000/static/\" + dados.filename)\n        })\n        const GuardaDados = await ArmazenaDadosBD(formulario, imagensPath)\n        console.log(GuardaDados)\n    }\n\n    async function ArmazenaDadosBD(formulario, recebeLocationImagens) {//com os nomes dos arquivos no node, reuni todos os dados do carro e junta com o nome das imagens\n        const classBuscaBD = new BuscaBD()\n        var imagensLocation = JSON.stringify(recebeLocationImagens);//transforma a array de localização das imagens em uma array String\n        console.log(imagensLocation)\n        var reuniDados = formulario\n        var reuniDados = { ...reuniDados, imagensPath: imagensLocation }\n        console.log(reuniDados)\n        const EnviaDadosBD = await classBuscaBD.BuscaBDPostDados(reuniDados)\n        return EnviaDadosBD\n    }\n\n\n    // ############ BUSCA DADOS E ALTERA NO BD  ###################\n    // ############ BUSCA DADOS E ALTERA NO BD  ###################\n    // ############ BUSCA DADOS E ALTERA NO BD  ###################\n\n    async function BuscarBDDados() {\n        const classBuscaBD = new BuscaBD()\n        const resultado = await classBuscaBD.BuscaBDGetDados(editaFormulario.campoIdPesquisa)\n        setEditaFormulario((prevState) => {\n            return { ...prevState, retornoPesquisaBD: resultado }\n        })\n    }\n\n    //em construção\n    function AtualizarDadosBd() {\n    }\n\n    return (\n        <>\n\n            <div className=\"paineladministrativo-div\">\n                <h2>Bem vindo ao PAINEL ADMINISTRATIVO DE OFERTAS</h2>\n            </div>\n\n\n            <article className=\"paineladministrativo-article\">\n\n                <h4>SELECIONE A OPÇÃO DESEJADA:</h4>\n\n\n                <div className=\"paineladministrativo-article-div-button\">\n                    <Button\n                        onClick={(dadosBotao, envia = \"criarAnuncio\") => { SelecionaFormulario(dadosBotao, envia) }}\n                        variant=\"contained\"\n                        color=\"primary\"\n                        className={classes.button}\n                        startIcon={<SendIcon />}\n                    >\n                        CRIAR ANÚNCIO\n                    </Button>\n\n                    <Button\n                        onClick={(dadosBotao, envia = \"alterarAnuncio\") => { SelecionaFormulario(dadosBotao, envia) }}\n                        variant=\"contained\"\n                        color=\"default\"\n                        className={classes.button}\n                        startIcon={<CloudUploadIcon />}\n                    >\n                        ALTERAR ANÚNCIO\n                    </Button>\n\n                    <Button\n                        onClick={(dadosBotao, envia = \"deletarAnuncio\") => { SelecionaFormulario(dadosBotao, envia) }}\n                        variant=\"contained\"\n                        color=\"secondary\"\n                        className={classes.button}\n                        startIcon={<DeleteIcon />}\n                    >\n                        DELETAR ANÚNCIO\n                    </Button>\n                </div>\n            </article>\n\n            <div className=\"seletorformulario\">\n\n                {criarAnuncio &&\n                    <>\n                        <h2>PUBLICADOR DE ANÚNCIOS</h2>\n                        <Formulario PublicaDados={PublicaDados} tipoFormulario=\"criarAnuncio\" />\n\n                    </>\n                }\n\n            </div>\n            <div className=\"seletorformulario\">\n\n                {alterarAnuncio &&\n                    <>\n                        <div className=\"publicacao-div-search\">\n                            <TextField\n                                onBlur={(recebe) => {\n                                    setEditaFormulario((prevState) => { return { ...prevState, campoIdPesquisa: recebe.target.value } })\n                                }}\n                                style={{ margin: \"0 1% 3% 10%\", }}\n                                label=\"BUSCAR POR ID\"\n                                id=\"outlined-size-small\"\n                                defaultValue=\"\"\n                                variant=\"outlined\"\n                                size=\"small\"\n                                color=\"success\"\n                            />\n                            <Button\n                                onClick={() => { BuscarBDDados() }}\n                                style={{ margin: \"0\", backgroundColor: \"white\" }}\n                                variant=\"contained\"\n                                color=\"inherit\"\n                                className={classes.button}\n                                startIcon={<i class=\"fas fa-search fa-2x\"></i>}\n                            >\n                                BUSCAR ANÚNCIO\n                        </Button>\n                        </div>\n\n\n                        <h2>EDIÇÃO DE ANÚNCIOS</h2>\n\n                        <Formulario tipoFormulario=\"alterarAnuncio\" editaFormulario={editaFormulario} />\n\n                    </>\n                }\n\n            </div>\n            <div className=\"seletorformulario\">\n\n                {deletarAnuncio &&\n                    <>\n                        <h2>REMOVER ANÚNCIOS</h2>\n                        <Formulario tipoFormulario=\"deletarAnuncio\" />\n\n                    </>\n                }\n\n            </div>\n\n\n        </>\n\n    )\n\n}"]},"metadata":{},"sourceType":"module"}